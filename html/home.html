<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tamil Nadu District Portal</title>
    <link rel="stylesheet" href="../css/style.css" />
    <style>
      .districts-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
        justify-content: flex-start;
        margin: 5rem 0;
      }
      .district-card {
        flex: 1 0 21%; /* 4 per row with spacing */
        box-sizing: border-box;
        min-width: 220px;
        max-width: 270px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 8px #0002;
        overflow: hidden;
        cursor: pointer;
        text-align: center;
        transition: box-shadow .18s;
      }
      .district-card:hover {
        box-shadow: 0 4px 16px #0003;
      }
      .district-image {
        width: 100%;
        height: 180px;
        object-fit: cover;
        display: block;
      }
      .district-card p {
        padding: 1rem;
        font-weight: bold;
        font-size: 1.1em;
      }
      @media (max-width: 950px) {
        .district-card { flex: 1 0 45%; }
      }
      @media (max-width: 700px) {
        .district-card { flex: 1 0 95%; }
      }
    </style>
  </head>
  <body>
    <header class="navbar">
      <div class="navbar-left">
        <img src="https://aed.tn.gov.in/media/filer_public_thumbnails/filer_public/ea/c9/eac9c84e-a02c-4733-8a10-331dc8d1e1c3/tn_logo__eng.png__1200.0x1317.0_subsampling-2.png" alt="Tamil Nadu Logo" class="logo" />
        <span class="title">Tamil Nadu District Portal</span>
      </div>
      <nav class="navbar-center">
        <a href="#">Home</a>
        <a href="#">District Info</a>
        <a href="#">Tourism</a>
        <a href="#">Schemes</a>
        <a href="#">Contact</a>
      </nav>
      <div class="navbar-right">
        <input type="text" id="district-search" placeholder="Search districts..." />
      </div>
    </header>
    <section class="hero">
      <h1>Welcome to Tamil Nadu Districts Info Portal</h1>
      <p>Explore the districts and discover new opportunities</p>
      <div class="hero-buttons">
        <button id="explore-districts-btn">Explore Districts</button>
        <button id="schemes-btn">Schemes</button>
      </div>
    </section>
    <section class="districts-section">
      <div id="districts-grid" class="districts-grid"></div>
    </section>
    <footer class="footer">
      <p>&copy; 2025 Tamil Nadu Government. All rights reserved.</p>
    </footer>
    <script src="../js/d.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const grid = document.getElementById('districts-grid');
        grid.innerHTML = '';
        let shown = (typeof districts !== "undefined" ? districts : []);
        renderDistricts(shown);

        // Optional: live filtering by district name (case insensitive)
        document.getElementById('district-search').addEventListener('input', function(e){
          const term = e.target.value.trim().toLowerCase();
          const filtered = !term ? districts : districts.filter(
            d => (d.name_en + " " + d.name_ta).toLowerCase().includes(term)
          );
          renderDistricts(filtered);
        });

        function renderDistricts(data) {
          grid.innerHTML = '';
          data.forEach(dist => {
            const card = document.createElement('div');
            card.className = 'district-card';
            card.innerHTML = `
              <img src="${dist.image}" alt="${dist.name_en}" class="district-image"/>
              <p>${dist.name_en}</p>
            `;
            card.onclick = () => {
              localStorage.setItem('selectedDistrict', dist.name_en);
              window.location.href = '../html/district_page.html';
            };
            grid.appendChild(card);
          });
        }
      });
    </script>
  </body>
</html>
